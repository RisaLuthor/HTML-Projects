<!DOCTYPE html>
<html lang="en">

<head>
  <title>Web Sprint 1 Challenge</title>
  <style>
    .widget {
      padding: 0 0 0.5rem 0.65rem;
      margin-bottom: 0.5rem;
      border: 1px solid black;
      border-radius: 0.5rem;
    }

    .widget p {
      font-size: 0.75rem;
      font-style: italic;
    }
  </style>
</head>

<body>
  <h1>Web Sprint 1 Challenge </h1>
  <p>‚ùó See the script tag for instructions on completing your Challenge</p>
  <!-- widgets start -->
  <section class="widget">
    <p>This widget uses the advancedBatteryCare function</p>
    <input type="range" min="0" max="100" value="50" id="sliderBattery">
    <div pseudo="-webkit-slider-container">
      <div pseudo="-webkit-slider-runnable-track">
        <div pseudo="-webkit-slider-thumb"></div>
      </div>
    </div>
    <div id="infoBattery">your battery is at 43%</div>
  </section>
  <!-- widgets end -->

  <script id="challenge">
    // In CHALLENGES 1-4 you will write JavaScript functions.
    // In CHALLENGE 5 you will edit the HTML to add some missing id attributes.

    // ‚ùó Each function is already scaffolded for you. You will need to fill in each function's parameters and body.
    // ‚ùó Do not rename the functions provided, and do not create any other script tags.
    // ‚ùó As you go through each challenge, load this file in the browser and debug using the Console.
    // ‚ùó All challenges that returns strings must return the EXACT string given in the instructions to pass.

    // üëâ CHALLENGE 1
    function concatenator() {
      // üß† concatenator takes two arguments named a and b:
      //    * If a and b are strings, return them concatenated
      //    * If a and b are numbers, return their sum
      // üí° Other conditions that must be met:
      //    * Both a and b must be of the same type. If they are not the same type, return the string "a and b must be of the same type"
      //    * a and b can be either numbers or strings. If they are not, return "a and b must be numbers or strings"
      // ‚ùó Hint: The order of the conditions in the pseudo-code above and in the actual code is not necessarily the same
      // ‚ùó Hint: It's advised to deal with the other conditions first, like arguments being of the wrong type.
      //          In the real world, these are considered "edge cases".
    }
    function concatenator(a, b) {
    // Check if a and b are not of the same type
    if (typeof a !== typeof b) {
        return "a and b must be of the same type";
    }
    // Check if a and b are neither strings nor numbers
    if (typeof a !== 'string' && typeof a !== 'number') {
        return "a and b must be numbers or strings";
    }
    // If a and b are both strings, concatenate them
    if (typeof a === 'string') {
        return a + b;
    }
    // If a and b are both numbers, return their sum
    if (typeof a === 'number') {
        return a + b;
    }
}


    // üëâ CHALLENGE 2
    function falsinessDetector() {
      // üß† falsinessDetector takes five arguments named a, b, c, d, and e which are values of any type:
      //    * If some values are truthy and some falsy, return the string "some values truthy and some falsy"
      //    * If all values are falsy, return the string "all values falsy"
      //    * If all values are truthy, return the string "all values truthy"
    }
    function falsinessDetector(a, b, c, d, e) {
    // Check if all values are falsy
    if (!a && !b && !c && !d && !e) {
        return "all values falsy";
    }
    // Check if all values are truthy
    if (a && b && c && d && e) {
        return "all values truthy";
    }
    // Check if some values are truthy and some falsy
    return "some values truthy and some falsy";
}


    // üëâ CHALLENGE 3
    function triangleAnalyzer() {
      // üß† triangleAnalyzer takes three arguments named angleA, angleB, and angleC:
      //    * If any angle is 90 degrees, return the string "this is a right triangle"
      //    * If any angle is over 90 degrees, return the string "this is an obtuse triangle"
      //    * If all angles are under 90 degrees, return the string "this is an acute triangle"
      // üí° Other conditions that must be met:
      //    * All angles must be of type number. If not, return the string "all angles must be numbers"
      //    * All angles must be greater than zero. If not, return the string "all angles must be greater than zero"
      //    * The three angles must add up to 180. If not, return the string "angles must total 180"
      // ‚ùó Hint: the order of the conditions in the pseudo-code above and in the actual code is not necessarily the same
      // ‚ùó Hint: It's advised to deal with the other conditions first, like arguments being of the wrong type.
      //          In the real world, these are considered "edge cases".
    }
    function triangleAnalyzer(angleA, angleB, angleC) {
    // Check if all angles are numbers
    if (typeof angleA !== 'number' || typeof angleB !== 'number' || typeof angleC !== 'number') {
        return "all angles must be numbers";
    }
    // Check if all angles are greater than zero
    if (angleA <= 0 || angleB <= 0 || angleC <= 0) {
        return "all angles must be greater than zero";
    }
    // Check if the sum of angles equals 180
    if (angleA + angleB + angleC !== 180) {
        return "angles must total 180";
    }
    // Check if any angle is 90 degrees
    if (angleA === 90 || angleB === 90 || angleC === 90) {
        return "this is a right triangle";
    }
    // Check if any angle is greater than 90 degrees
    if (angleA > 90 || angleB > 90 || angleC > 90) {
        return "this is an obtuse triangle";
    }
    // If none of the above conditions are met, it's an acute triangle
    return "this is an acute triangle";
}


    // üëâ CHALLENGE 4
    function advancedBatteryCare() {
      // üß† advancedBatteryCare takes an argument named percentage that will be a number between 0 and 100 inclusive:
      //    * If percentage in the range between 20 and 80 inclusive (E.G. 47), return a string like "your battery is at 47%"
      //    * If percentage over 80, return the string "please unplug charger"
      //    * If percentage under 20, return the string "please connect charger"
      //    * If percentage exactly 0, return the string "congrats, battery dead"
      //    * If percentage exactly 100, return the string "congrats, you cooked your battery"
    }
    function advancedBatteryCare(percentage) {
    // Check if percentage is a number between 0 and 100 inclusive
    if (typeof percentage !== 'number' || percentage < 0 || percentage > 100 || isNaN(percentage)) {
        return "percentage must be a number between 0 and 100 inclusive";
    }
    // Check if percentage is exactly 0 or 100 first
    if (percentage === 0) {
        return "congrats, battery dead";
    }
    if (percentage === 100) {
        return "congrats, you cooked your battery";
    }
    // Check if percentage is in the range between 20 and 80 inclusive
    if (percentage >= 20 && percentage <= 80) {
        return "your battery is at " + percentage + "%";
    }
    // Check if percentage is over 80
    if (percentage > 80) {
        return "please unplug charger";
    }
    // If percentage is under 20
    return "please connect charger";
}


    // üëâ CHALLENGE 5
    // üß† The advancedBatteryCare function implemented above is being used to display a widget on the web page
    // However, some HTML elements are missing an id attribute that would allow the JavaScript code to find them
    // Visit the following website: `https://bloominstituteoftechnology.github.io/W_U1_S1_sprint_challenge_v2/`
    //    * Interact with the site to see the widget in action
    //    * Use Chrome Dev Tools/Elements tab to find the missing ids
    //    * Add the missing ids to the corresponding HTML elements in this document and make the widget work

    // üß™ TESTS, do not make any changes below this line ===================
    // üß™ TESTS, do not make any changes below this line ===================
    // üß™ TESTS, do not make any changes below this line ===================
    globalThis.challengeVersion = 2
    globalThis.concatenator = concatenator
    globalThis.falsinessDetector = falsinessDetector
    globalThis.triangleAnalyzer = triangleAnalyzer
    globalThis.advancedBatteryCare = advancedBatteryCare

    if (typeof module === 'undefined') {
      try {
        runTests('CHALLENGE 1 - concatenator', concatenator, [
          [[1, 'a'], 'a and b must be of the same type'],
          [['a', 1], 'a and b must be of the same type'],
          [[true, false], 'a and b must be numbers or strings'],
          [[null, null], 'a and b must be numbers or strings'],
          [['toyota', ' camry'], 'toyota camry'],
          [[3, 5], 8],
          [[3, -5], -2],
        ])
        runTests('CHALLENGE 2 - falsinessDetector', falsinessDetector, [
          [[1, '2', true, '0', ' '], 'all values truthy'],
          [[-1, '2', !false, '0', '-0'], 'all values truthy'],
          [[0, -0, false, '', false], 'all values falsy'],
          [[2 - 2, -0, !true, '' + '', !!false], 'all values falsy'],
          [[0, -0, false, '', ' '], 'some values truthy and some falsy'],
          [[5, -0, !true, ' ', '0'], 'some values truthy and some falsy'],
        ])
        runTests('CHALLENGE 3 - triangleAnalyzer', triangleAnalyzer, [
          [[], 'all angles must be numbers'],
          [['90', '60', '30'], 'all angles must be numbers'],
          [[90, 60, '30'], 'all angles must be numbers'],
          [[0, 0, 180], 'all angles must be greater than zero'],
          [[-180, 180, 180], 'all angles must be greater than zero'],
          [[90, 60, 31], 'angles must total 180'],
          [[90, 60, 29], 'angles must total 180'],
          [[90, 60, 30], 'this is a right triangle'],
          [[45, 45, 90], 'this is a right triangle'],
          [[35, 90, 55], 'this is a right triangle'],
          [[91, 60, 29], 'this is an obtuse triangle'],
          [[40, 45, 95], 'this is an obtuse triangle'],
          [[25, 100, 55], 'this is an obtuse triangle'],
          [[60, 60, 60], 'this is an acute triangle'],
        ])
        runTests('CHALLENGE 4 - advancedBatteryCare', advancedBatteryCare, [
          [[0], 'congrats, battery dead'],
          [[100], 'congrats, you cooked your battery'],
          [[19], 'please connect charger'],
          [[81], 'please unplug charger'],
          [[20], 'your battery is at 20%'],
          [[50], 'your battery is at 50%'],
          [[80], 'your battery is at 80%'],
        ])
        console.log('\nCHALLENGE 5 does not have auto tests')
        function runTests(testName, func, tests) {
          let results = []
          tests.forEach(test => {
            const argsList = test[0]
            const expected = JSON.stringify(test[1])
            const actual = JSON.stringify(func.apply(null, argsList))
            results.push([argsList, expected, actual])
          })
          console.log('\n' + testName)
          if (results.every(result => result[1] === result[2])) console.log('\t‚úÖ All tests pass')
          else if (results.every(result => result[1] !== result[2])) console.log('\t‚ùå All tests fail')
          else results.forEach((result, idx) => {
            if (result[1] === result[2]) console.log(`\t‚úÖ Test ${idx + 1} passes`)
            else console.log(`\t‚ùå Test ${idx + 1} fails: ${func.name}(${result[0]
              .map(JSON.stringify)}) should return ${result[1]} but returns ${result[2]}`)
          })
        }
        try {
          sliderBattery.onchange = () => {
            infoBattery.textContent = advancedBatteryCare(Number(sliderBattery.value))
          }
        } catch { }
      } catch (err) { console.error(err.stack) }
    }
  </script>
</body>

</html>
